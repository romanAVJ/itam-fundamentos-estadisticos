setwd("~/Documents/study/ITAM-MASTER/sem1/stats/itam-fundamentos-estadisticos/exam")
library(tidyverse)
set.seed(3872999)
n_escuelas <- 5000
tipo <- sample(c("rural", "urbano", "indigena"), n_escuelas, replace = TRUE,
prob = c(0.3, 0.5, 0.2))
escuela <- tibble(ind_escuela = 1:n_escuelas, tipo,
media_tipo = case_when(tipo == "urbano" ~ 550, tipo == "rural" ~ 400, TRUE ~ 350),
media_escuela = rnorm(n_escuelas, media_tipo, 30),
n_estudiantes = round(rnorm(n_escuelas, 30, 4)))
escuela
estudiantes <- uncount(escuela, n_estudiantes, .id = "id_estudiante") %>%
rowwise() %>%
mutate(calif = rnorm(1, media_escuela, 70)) %>%
ungroup()
estudiantes
?uncount
?rerun
escuela
estudiantes
?add_count
?mean
